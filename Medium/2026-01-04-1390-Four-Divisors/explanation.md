# Four Divisors (Medium)

**Problem ID:** 1390  
**Date:** 2026-01-04  
**Link:** https://leetcode.com/problems/four-divisors/

## Approach

To solve the "Four Divisors" problem, we need to identify integers in the given array that have exactly four divisors and compute the sum of those divisors. Here's a structured approach to tackle this problem:

### Main Idea:
1. **Understanding Divisors**: An integer has exactly four divisors if it can be expressed in one of two forms:
   - A product of two distinct prime numbers, \( p \times q \), where \( p \) and \( q \) are prime. The divisors in this case are \( 1, p, q, \) and \( p \times q \).
   - A cube of a prime number, \( p^3 \), where the divisors are \( 1, p, p^2, \) and \( p^3 \).

2. **Efficient Prime Generation**: Since the maximum value for elements in `nums` is \( 10^5 \), we can use the Sieve of Eratosthenes to generate all prime numbers up to \( 10^5 \). This allows us to quickly check if a number is prime and to find its divisors.

### Steps:
1. **Generate Primes**: Use the Sieve of Eratosthenes to create a list of all primes up to \( 10^5 \) and store them in a set for O(1) lookups.

2. **Iterate through the Array**: For each number in the `nums` array:
   - Check if it has exactly four divisors:
     - **Form 1**: Check if it can be expressed as \( p \times q \) where both \( p \) and \( q \) are distinct primes. If found, compute the sum of divisors \( 1 + p + q + (p \times q) \).
     - **Form 2**: Check if it is of the form \( p^3 \) for some prime \( p \). If so, compute the sum of divisors \( 1 + p + p^2 + p^3 \).

3. **Accumulate Results**: Maintain a running total of the sums of divisors for all numbers that meet the criteria.

4. **Return the Result**: After processing all numbers, return the accumulated sum. If no numbers had exactly four divisors, return 0.

### Data Structures:
- A list or array to hold the prime numbers generated by the sieve.
- A set for quick prime checks.
- A variable to accumulate the sum of divisors.

### Complexity:
- **Time Complexity**: The Sieve of Eratosthenes runs in \( O(n \log \log n) \) where \( n \) is \( 10^5 \). Checking each number in `nums` requires factorization that, in the worst case, can be handled in \( O(\sqrt{m}) \) where \( m \) is the number being checked, leading to an overall complexity of \( O(n \sqrt{m}) \) for the entire array.
- **Space Complexity**: The space used for the sieve is \( O(n) \) for storing primes.

This approach efficiently identifies numbers with exactly four divisors and calculates their divisor sums, adhering to the constraints provided in the problem statement.
